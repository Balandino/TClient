<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14.0.2) on Sat Sep 26 11:19:31 BST 2020 -->
<title>ChannelData</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-09-26">
<meta name="description" content="declaration: package: org.torrent.coredata, class: ChannelData">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ChannelData.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.torrent.coredata</a></div>
<h1 title="Class ChannelData" class="title">Class ChannelData</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">org.torrent.coredata.ChannelData</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">ChannelData</span>
extends java.lang.Object</pre>
<div class="block">This class holds information about the state of a channel, including information such as whether it is working on a piece, whether it is being choked and messages it needs to send</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>mkg</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>private byte[][]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blockRequests">blockRequests</a></span></code></th>
<td class="colLast">
<div class="block">This and blocksRequested work together to track block requests.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.nio.ByteBuffer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blocksCollected">blocksCollected</a></span></code></th>
<td class="colLast">
<div class="block">This holds the actual block data that is received</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blocksRequested">blocksRequested</a></span></code></th>
<td class="colLast">
<div class="block">This and blockRequests work together to track block requests.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.nio.channels.SocketChannel</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#channel">channel</a></span></code></th>
<td class="colLast">
<div class="block">A reference to the channel this instance is tracking data for</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#channelNum">channelNum</a></span></code></th>
<td class="colLast">
<div class="block">A unique number for the channel</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#channelNumCount">channelNumCount</a></span></code></th>
<td class="colLast">
<div class="block">Used to generate unique numbers for the channel</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="FlowControls.ChannelStatus.html" title="enum in org.torrent.coredata">FlowControls.ChannelStatus</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#channelStatus">channelStatus</a></span></code></th>
<td class="colLast">
<div class="block">A status used to control the channel's flow through the code</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Boolean[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#connectionStatus">connectionStatus</a></span></code></th>
<td class="colLast">
<div class="block">This array holds values for choking and interest for both the client and a remote peer</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.nio.channels.SelectionKey</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#currentKey">currentKey</a></span></code></th>
<td class="colLast">
<div class="block">The current key assigned to the channel and registered with the selector</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lastActionTime">lastActionTime</a></span></code></th>
<td class="colLast">
<div class="block">Stores a time, used to help calculate if a timeout has occured</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Integer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nioStoresKey">nioStoresKey</a></span></code></th>
<td class="colLast">
<div class="block">The key used to access HashMaps stored in NIOthread containing objects such as a PeerManager</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.ArrayDeque&lt;byte[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#outboundQueue">outboundQueue</a></span></code></th>
<td class="colLast">
<div class="block">Contains any messages to be sent when the channel is next configured to write.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#outBoundQueueLength">outBoundQueueLength</a></span></code></th>
<td class="colLast">
<div class="block">The cumulative length of the messages in the outboundQueue, used to create a single large byte array for sending</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="Peer.html" title="class in org.torrent.coredata">Peer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#peer">peer</a></span></code></th>
<td class="colLast">
<div class="block">A reference to the peer this channel is communicating with</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#piece">piece</a></span></code></th>
<td class="colLast">
<div class="block">Stored the piece the channel is currently working on, or -1 if no piece is set</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storedTcpPacketBytes">storedTcpPacketBytes</a></span></code></th>
<td class="colLast">
<div class="block">Used to temporarily hold received tcp packet data until a full message can be constructed</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#timeout">timeout</a></span></code></th>
<td class="colLast">
<div class="block">Stored a number of seconds to wait for a timeout, used with lastActionTime to calculate if a timeout has occurred</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.Integer,org.torrent.coredata.FlowControls.ChannelStatus)">ChannelData</a></span>&#8203;(java.lang.Integer&nbsp;nioKey,
<a href="FlowControls.ChannelStatus.html" title="enum in org.torrent.coredata">FlowControls.ChannelStatus</a>&nbsp;status)</code></th>
<td class="colLast">
<div class="block">An alternative constructor not requiring a peer.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.Integer,org.torrent.coredata.Peer,org.torrent.coredata.FlowControls.ChannelStatus,java.nio.channels.SocketChannel)">ChannelData</a></span>&#8203;(java.lang.Integer&nbsp;nioKey,
<a href="Peer.html" title="class in org.torrent.coredata">Peer</a>&nbsp;newPeer,
<a href="FlowControls.ChannelStatus.html" title="enum in org.torrent.coredata">FlowControls.ChannelStatus</a>&nbsp;status,
java.nio.channels.SocketChannel&nbsp;socketChannel)</code></th>
<td class="colLast">
<div class="block">The constructor.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addMessage(byte%5B%5D)">addMessage</a></span>&#8203;(byte[]&nbsp;msg)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addReceivedBlock(byte%5B%5D,byte%5B%5D)">addReceivedBlock</a></span>&#8203;(byte[]&nbsp;offset,
byte[]&nbsp;block)</code></th>
<td class="colLast">
<div class="block">Stored the new data block into blocksCollected</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#blocksRequested()">blocksRequested</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkForTimeout()">checkForTimeout</a></span>()</code></th>
<td class="colLast">
<div class="block">Checks whether this channel has timed out</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#chokePeer()">chokePeer</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks the connection as choking the connected peer</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#chokingPeer()">chokingPeer</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearBlockData()">clearBlockData</a></span>()</code></th>
<td class="colLast">
<div class="block">Clears all data related to storing blocks</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearRequestedBlocks()">clearRequestedBlocks</a></span>()</code></th>
<td class="colLast">
<div class="block">Iterates over blocksRequested, marking any entries that haven't been marked as obtained as unrequested.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>byte[][]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBlockRequests(int,int,int)">getBlockRequests</a></span>&#8203;(int&nbsp;pieceSize,
int&nbsp;piece,
int&nbsp;blockReqSize)</code></th>
<td class="colLast">
<div class="block">If blocksRequested is already set, then it gets returned.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>java.nio.ByteBuffer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBlocksCollected()">getBlocksCollected</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBlocksRequested()">getBlocksRequested</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>java.nio.channels.SocketChannel</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getChannel()">getChannel</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getChannelNum()">getChannelNum</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>java.nio.channels.SelectionKey</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCurrentKey()">getCurrentKey</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>private byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getIntBytes(int)">getIntBytes</a></span>&#8203;(int&nbsp;num)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>java.lang.Integer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNioKey()">getNioKey</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOutboundMessages()">getOutboundMessages</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i17">
<td class="colFirst"><code><a href="Peer.html" title="class in org.torrent.coredata">Peer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPeer()">getPeer</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i18">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPiece()">getPiece</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i19">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRemainingBlockSpace()">getRemainingBlockSpace</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i20">
<td class="colFirst"><code><a href="FlowControls.ChannelStatus.html" title="enum in org.torrent.coredata">FlowControls.ChannelStatus</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStatus()">getStatus</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i21">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStoredTcpPacketBytes()">getStoredTcpPacketBytes</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i22">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasMessages()">hasMessages</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i23">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isChoked()">isChoked</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i24">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isInterested()">isInterested</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i25">
<td class="colFirst"><code>private int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#numRequestsReq(java.nio.ByteBuffer,int)">numRequestsReq</a></span>&#8203;(java.nio.ByteBuffer&nbsp;buff,
int&nbsp;blockReqSize)</code></th>
<td class="colLast">
<div class="block">Returns a 2D array of the number of requests needed to download a piece.</div>
</td>
</tr>
<tr class="altColor" id="i26">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#peerIsInterested()">peerIsInterested</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i27">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pieceComplete()">pieceComplete</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i28">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pieceSet()">pieceSet</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i29">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#registerPeerInterest()">registerPeerInterest</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks the connected peer as interested</div>
</td>
</tr>
<tr class="altColor" id="i30">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setBlockObtained(byte%5B%5D,int,int)">setBlockObtained</a></span>&#8203;(byte[]&nbsp;offset,
int&nbsp;pieceSize,
int&nbsp;blockReqSize)</code></th>
<td class="colLast">
<div class="block">Marks the index position in blocksRequested as received.</div>
</td>
</tr>
<tr class="rowColor" id="i31">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setBlockRequested(int)">setBlockRequested</a></span>&#8203;(int&nbsp;index)</code></th>
<td class="colLast">
<div class="block">Marks a block message as having been requested</div>
</td>
</tr>
<tr class="altColor" id="i32">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setChoked()">setChoked</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks the channel as choked</div>
</td>
</tr>
<tr class="rowColor" id="i33">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCurrentKey(java.nio.channels.SelectionKey)">setCurrentKey</a></span>&#8203;(java.nio.channels.SelectionKey&nbsp;key)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i34">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setInterested()">setInterested</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks the channel as interested</div>
</td>
</tr>
<tr class="rowColor" id="i35">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setPeerUninterested()">setPeerUninterested</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks the connected peer as uninterested</div>
</td>
</tr>
<tr class="altColor" id="i36">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setPiece(int)">setPiece</a></span>&#8203;(int&nbsp;piece)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i37">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setStatus(org.torrent.coredata.FlowControls.ChannelStatus)">setStatus</a></span>&#8203;(<a href="FlowControls.ChannelStatus.html" title="enum in org.torrent.coredata">FlowControls.ChannelStatus</a>&nbsp;status)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i38">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setStoredTcpPacketBytes(byte%5B%5D)">setStoredTcpPacketBytes</a></span>&#8203;(byte[]&nbsp;bytesToStore)</code></th>
<td class="colLast">
<div class="block">Holds bytes until enough packets have come in to parse a complete message</div>
</td>
</tr>
<tr class="rowColor" id="i39">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTimeout(int)">setTimeout</a></span>&#8203;(int&nbsp;time)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i40">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUnchoked()">setUnchoked</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks the channel as unchoked</div>
</td>
</tr>
<tr class="rowColor" id="i41">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUninterested()">setUninterested</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks the channel as uninterested</div>
</td>
</tr>
<tr class="altColor" id="i42">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unchokePeer()">unchokePeer</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks the connection as not-choking the connected peer</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="outboundQueue">outboundQueue</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.util.ArrayDeque&lt;byte[]&gt;</span>&nbsp;<span class="memberName">outboundQueue</span></div>
<div class="block">Contains any messages to be sent when the channel is next configured to write.  This could be empty if no messages need sending</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="outBoundQueueLength">outBoundQueueLength</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">outBoundQueueLength</span></div>
<div class="block">The cumulative length of the messages in the outboundQueue, used to create a single large byte array for sending</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="lastActionTime">lastActionTime</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">lastActionTime</span></div>
<div class="block">Stores a time, used to help calculate if a timeout has occured</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="timeout">timeout</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">timeout</span></div>
<div class="block">Stored a number of seconds to wait for a timeout, used with lastActionTime to calculate if a timeout has occurred</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="channelStatus">channelStatus</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType"><a href="FlowControls.ChannelStatus.html" title="enum in org.torrent.coredata">FlowControls.ChannelStatus</a></span>&nbsp;<span class="memberName">channelStatus</span></div>
<div class="block">A status used to control the channel's flow through the code</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="connectionStatus">connectionStatus</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.lang.Boolean[]</span>&nbsp;<span class="memberName">connectionStatus</span></div>
<div class="block">This array holds values for choking and interest for both the client and a remote peer</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="nioStoresKey">nioStoresKey</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.lang.Integer</span>&nbsp;<span class="memberName">nioStoresKey</span></div>
<div class="block">The key used to access HashMaps stored in NIOthread containing objects such as a PeerManager</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="piece">piece</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">piece</span></div>
<div class="block">Stored the piece the channel is currently working on, or -1 if no piece is set</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="blockRequests">blockRequests</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">byte[][]</span>&nbsp;<span class="memberName">blockRequests</span></div>
<div class="block">This and blocksRequested work together to track block requests.  This variable contains the piece messages that need to be sent.
 The amount of messages stored here will be equal to the amount of messages needed to get the whole of the target piece.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="blocksRequested">blocksRequested</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">blocksRequested</span></div>
<div class="block">This and blockRequests work together to track block requests.  This variable keeps track of which piece messages have been sent and received and the size
 of this array directly corresponds with the size of blockRequests 1st column.  As a result the index values in this array match up with piece request messages
 in blockRequests. For blocksRequested, a value of 1 means that the message has been sent and a value
 of -1 means that the response has been successfully received.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="blocksCollected">blocksCollected</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.nio.ByteBuffer</span>&nbsp;<span class="memberName">blocksCollected</span></div>
<div class="block">This holds the actual block data that is received</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="storedTcpPacketBytes">storedTcpPacketBytes</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">storedTcpPacketBytes</span></div>
<div class="block">Used to temporarily hold received tcp packet data until a full message can be constructed</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="channel">channel</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.nio.channels.SocketChannel</span>&nbsp;<span class="memberName">channel</span></div>
<div class="block">A reference to the channel this instance is tracking data for</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="peer">peer</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType"><a href="Peer.html" title="class in org.torrent.coredata">Peer</a></span>&nbsp;<span class="memberName">peer</span></div>
<div class="block">A reference to the peer this channel is communicating with</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="currentKey">currentKey</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.nio.channels.SelectionKey</span>&nbsp;<span class="memberName">currentKey</span></div>
<div class="block">The current key assigned to the channel and registered with the selector</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="channelNum">channelNum</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">channelNum</span></div>
<div class="block">A unique number for the channel</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="channelNumCount">channelNumCount</a></h3>
<div class="memberSignature"><span class="modifiers">private static</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">channelNumCount</span></div>
<div class="block">Used to generate unique numbers for the channel</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(java.lang.Integer,org.torrent.coredata.Peer,org.torrent.coredata.FlowControls.ChannelStatus,java.nio.channels.SocketChannel)">ChannelData</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">ChannelData</span>&#8203;(<span class="arguments">java.lang.Integer&nbsp;nioKey,
<a href="Peer.html" title="class in org.torrent.coredata">Peer</a>&nbsp;newPeer,
<a href="FlowControls.ChannelStatus.html" title="enum in org.torrent.coredata">FlowControls.ChannelStatus</a>&nbsp;status,
java.nio.channels.SocketChannel&nbsp;socketChannel)</span></div>
<div class="block">The constructor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nioKey</code> - The key to link this channelData to its torrentFile, peerManager and piecePicker objects</dd>
<dd><code>newPeer</code> - The peer we shall connect to</dd>
<dd><code>status</code> - The status this channel is initialised to</dd>
<dd><code>socketChannel</code> - The channel this object will be associated with</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(java.lang.Integer,org.torrent.coredata.FlowControls.ChannelStatus)">ChannelData</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">ChannelData</span>&#8203;(<span class="arguments">java.lang.Integer&nbsp;nioKey,
<a href="FlowControls.ChannelStatus.html" title="enum in org.torrent.coredata">FlowControls.ChannelStatus</a>&nbsp;status)</span></div>
<div class="block">An alternative constructor not requiring a peer.  This will be use for connecting to a tracker</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nioKey</code> - The key the channel is to use to access NIOThread HashMaps</dd>
<dd><code>status</code> - The status the channel will be starting with</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="getChannelNum()">getChannelNum</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getChannelNum</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The unique number assigned to this channel</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setStatus(org.torrent.coredata.FlowControls.ChannelStatus)">setStatus</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setStatus</span>&#8203;(<span class="arguments"><a href="FlowControls.ChannelStatus.html" title="enum in org.torrent.coredata">FlowControls.ChannelStatus</a>&nbsp;status)</span></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>status</code> - Sets this channel's status</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getStatus()">getStatus</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="FlowControls.ChannelStatus.html" title="enum in org.torrent.coredata">FlowControls.ChannelStatus</a></span>&nbsp;<span class="memberName">getStatus</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This channel's status</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getNioKey()">getNioKey</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.Integer</span>&nbsp;<span class="memberName">getNioKey</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the key this channel uses to access HashMaps in NIOThread</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getPeer()">getPeer</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="Peer.html" title="class in org.torrent.coredata">Peer</a></span>&nbsp;<span class="memberName">getPeer</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The peer the channel is assigned to</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isInterested()">isInterested</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isInterested</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether the channel is interested</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setInterested()">setInterested</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setInterested</span>()</div>
<div class="block">Marks the channel as interested</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setUninterested()">setUninterested</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setUninterested</span>()</div>
<div class="block">Marks the channel as uninterested</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isChoked()">isChoked</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isChoked</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether the channel is choked or not</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setUnchoked()">setUnchoked</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setUnchoked</span>()</div>
<div class="block">Marks the channel as unchoked</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setChoked()">setChoked</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setChoked</span>()</div>
<div class="block">Marks the channel as choked</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="peerIsInterested()">peerIsInterested</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">peerIsInterested</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether the peer we are connected to has registered interest</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="registerPeerInterest()">registerPeerInterest</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">registerPeerInterest</span>()</div>
<div class="block">Marks the connected peer as interested</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setPeerUninterested()">setPeerUninterested</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setPeerUninterested</span>()</div>
<div class="block">Marks the connected peer as uninterested</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="chokingPeer()">chokingPeer</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">chokingPeer</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether the client is choking the connected peer</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="unchokePeer()">unchokePeer</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">unchokePeer</span>()</div>
<div class="block">Marks the connection as not-choking the connected peer</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="chokePeer()">chokePeer</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">chokePeer</span>()</div>
<div class="block">Marks the connection as choking the connected peer</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setPiece(int)">setPiece</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setPiece</span>&#8203;(<span class="arguments">int&nbsp;piece)</span></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>piece</code> - The piece this channel is to work on</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="pieceSet()">pieceSet</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">pieceSet</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a piece is currently assigned</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getPiece()">getPiece</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getPiece</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the piece that is currently assigned to the channel</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addMessage(byte[])">addMessage</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">addMessage</span>&#8203;(<span class="arguments">byte[]&nbsp;msg)</span></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - Adds a message to the outboundQueue of this instance</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="blocksRequested()">blocksRequested</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">blocksRequested</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Confirms whether any block requests are currently pending</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getOutboundMessages()">getOutboundMessages</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">getOutboundMessages</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns an array consisting of all the messages ready for sending</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="hasMessages()">hasMessages</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">hasMessages</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether any messages are stored for sending</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getBlockRequests(int,int,int)">getBlockRequests</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">byte[][]</span>&nbsp;<span class="memberName">getBlockRequests</span>&#8203;(<span class="arguments">int&nbsp;pieceSize,
int&nbsp;piece,
int&nbsp;blockReqSize)</span></div>
<div class="block">If blocksRequested is already set, then it gets returned.  If not, then a 2D array of all the request messages needed for the the assigned 
 piece is generated along with a 1D array to keep track of which requests have been received.  The 1D is assigned to blocksRequested, whereas
 the 2D is assigned to blockRequests</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pieceSize</code> - The size of each piece of the torrent file</dd>
<dd><code>piece</code> - The assigned piece</dd>
<dd><code>blockReqSize</code> - The request size being used in th epiece messages</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A 2D array of all the piece messages needed for a piece, with each row consisting of an individual piece message</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="numRequestsReq(java.nio.ByteBuffer,int)">numRequestsReq</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">int[]</span>&nbsp;<span class="memberName">numRequestsReq</span>&#8203;(<span class="arguments">java.nio.ByteBuffer&nbsp;buff,
int&nbsp;blockReqSize)</span></div>
<div class="block">Returns a 2D array of the number of requests needed to download a piece.  Index 0 in the array specifies the number of requests needed
 based on the blockReqSize.  Array position 1 only contains a value if the last request needs to be a different size than the others.  If it's 
 empty, then the number of requests required resides solely in index position 0, otherwise index 1 contains the size the final request needs to be.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buff</code> - A buffer who's length is the total lenght of a piece and who's position reflects the number of blocks obtained</dd>
<dd><code>blockReqSize</code> - The size of block the client is requesting</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A 2D array of length 2, possibly with an empty second value</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setBlockRequested(int)">setBlockRequested</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setBlockRequested</span>&#8203;(<span class="arguments">int&nbsp;index)</span></div>
<div class="block">Marks a block message as having been requested</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - The index in blocksRequested which corresponds to the message in blockRequests</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getBlocksRequested()">getBlocksRequested</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">getBlocksRequested</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The array which tracks which piece messages have been requested</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setBlockObtained(byte[],int,int)">setBlockObtained</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setBlockObtained</span>&#8203;(<span class="arguments">byte[]&nbsp;offset,
int&nbsp;pieceSize,
int&nbsp;blockReqSize)</span></div>
<div class="block">Marks the index position in blocksRequested as received.  The index position corresponds to the index position in blockRequests
 representing a piece request message</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>offset</code> - The bytes representing the int representing the offset in the piece where this block is located</dd>
<dd><code>pieceSize</code> - The size of the piece</dd>
<dd><code>blockReqSize</code> - The size of block the client is requesting</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="clearRequestedBlocks()">clearRequestedBlocks</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">clearRequestedBlocks</span>()</div>
<div class="block">Iterates over blocksRequested, marking any entries that haven't been marked as obtained as unrequested.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="pieceComplete()">pieceComplete</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">pieceComplete</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether all the blocks of the piece have been obtained</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getIntBytes(int)">getIntBytes</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">getIntBytes</span>&#8203;(<span class="arguments">int&nbsp;num)</span></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>num</code> - The number to convert into bytes</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The bytes that form the argument</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addReceivedBlock(byte[],byte[])">addReceivedBlock</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">addReceivedBlock</span>&#8203;(<span class="arguments">byte[]&nbsp;offset,
byte[]&nbsp;block)</span></div>
<div class="block">Stored the new data block into blocksCollected</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>offset</code> - The offset where the piece should be stored</dd>
<dd><code>block</code> - The data to be stored</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getRemainingBlockSpace()">getRemainingBlockSpace</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getRemainingBlockSpace</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>how much space is left to write in blocksCollected</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getStoredTcpPacketBytes()">getStoredTcpPacketBytes</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">getStoredTcpPacketBytes</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Stored data from previous TCP packets</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setStoredTcpPacketBytes(byte[])">setStoredTcpPacketBytes</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setStoredTcpPacketBytes</span>&#8203;(<span class="arguments">byte[]&nbsp;bytesToStore)</span></div>
<div class="block">Holds bytes until enough packets have come in to parse a complete message</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytesToStore</code> - The bytes to store until the next message</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="clearBlockData()">clearBlockData</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">clearBlockData</span>()</div>
<div class="block">Clears all data related to storing blocks</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getBlocksCollected()">getBlocksCollected</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.nio.ByteBuffer</span>&nbsp;<span class="memberName">getBlocksCollected</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the blocks this channel has collected</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setTimeout(int)">setTimeout</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setTimeout</span>&#8203;(<span class="arguments">int&nbsp;time)</span></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>time</code> - A number of seconds to wait</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="checkForTimeout()">checkForTimeout</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">checkForTimeout</span>()</div>
<div class="block">Checks whether this channel has timed out</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the channel has been waiting longer than the timeout period specified</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getChannel()">getChannel</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.nio.channels.SocketChannel</span>&nbsp;<span class="memberName">getChannel</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The channel associated with this instance of channelData</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getCurrentKey()">getCurrentKey</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.nio.channels.SelectionKey</span>&nbsp;<span class="memberName">getCurrentKey</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The key this channel used to access HashMaps in NIOThread</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setCurrentKey(java.nio.channels.SelectionKey)">setCurrentKey</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setCurrentKey</span>&#8203;(<span class="arguments">java.nio.channels.SelectionKey&nbsp;key)</span></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Sets the key this channelData instance will use</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ChannelData.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
